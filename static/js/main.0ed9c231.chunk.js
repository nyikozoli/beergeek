(this.webpackJsonpbeergeek=this.webpackJsonpbeergeek||[]).push([[0],{18:function(e,t,n){e.exports={beer_detail:"BeerDetail_beer_detail__3zwhb",beer_detail_info:"BeerDetail_beer_detail_info__2nIeM",beer_detail_desc:"BeerDetail_beer_detail_desc__2iYnX",beer_detail_tips:"BeerDetail_beer_detail_tips__2nf9g",beer_detail_foods:"BeerDetail_beer_detail_foods__31xpx"}},25:function(e,t,n){e.exports={login_container:"Login_login_container__FZG4y",login_btn:"Login_login_btn__2T1-a",login_error:"Login_login_error__3ORwV"}},49:function(e,t,n){},7:function(e,t,n){e.exports={layout:"Layout_layout__1nVz4",page_container:"Layout_page_container__3kVUm",header:"Layout_header__27HXS",logo:"Layout_logo__gXj3A",menu:"Layout_menu__3z6hQ",nav:"Layout_nav__1JLRV",username:"Layout_username__1WdfT",logout_btn:"Layout_logout_btn__1f_C_",loading_indicator:"Layout_loading_indicator__10N7o",not_found:"Layout_not_found__bzyy1"}},9:function(e,t,n){e.exports={beers:"Beers_beers__AZSk8",search_form:"Beers_search_form__2AUb-",search_paging:"Beers_search_paging__rZMyH",load_nav_btn:"Beers_load_nav_btn__Cat2G",nav_btn:"Beers_nav_btn__301F-",clear_btn:"Beers_clear_btn__3pxka",beer_list:"Beers_beer_list__1nvRX",card:"Beers_card__3Es4c",beer_info:"Beers_beer_info__1Qv5y",beer_title:"Beers_beer_title__upZT1",beer_abv:"Beers_beer_abv__nt4rm",high_abv:"Beers_high_abv__1xkVf"}},96:function(e,t,n){"use strict";n.r(t);n(49);var r=n(0),a=n.n(r),c=n(22),i=n.n(c),s=n(19),o=n(3),l=n(15),u=n(42),b=n(10),d=(n(44),n(2)),f=n.n(d),j=n(6),m=n(17),p=function(e){m.b.error(e)},_=Object(l.b)({name:"apiRequestsSlice",initialState:{errors:[],loadingStates:[]},reducers:{setLoading:function(e,t){var n=t.payload,r=n.actionName,a=n.actionState,c=e.loadingStates.find((function(e){return e.action===r}));c?c.loading=a:e.loadingStates.push({action:r,loading:a})},addError:function(e,t){var n=t.payload,r=n.actionName,a=n.error,c=e.errors.find((function(e){return e.action===r}));c?(c.error=a,c.hasError=!0):e.errors.push({action:r,error:a,hasError:!0})},removeError:function(e,t){var n=t.payload;e.errors=e.errors.filter((function(e){return e.action!==n.actionName}))},clearErrors:function(e){e.errors=[]}}}),h=_.actions,v=h.setLoading,g=h.addError,O=h.removeError,x=_.reducer,y=function(e){var t=e.dispatch,n=e.getState;return function(e){return function(r){return"function"!==typeof r?e(r):function(){var e=Object(j.a)(f.a.mark((function e(){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(v({actionName:r.name,actionState:!0})),e.next=4,r(t,n);case 4:t(v({actionName:r.name,actionState:!1})),e.next=13;break;case 7:throw e.prev=7,e.t0=e.catch(0),t(v({actionName:r.name,actionState:!1})),t(g({actionName:r.name,error:e.t0.message})),p(e.t0.message),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}}},N=n(12),w=n(16),k=n.n(w),E=function(){var e=Object(j.a)(f.a.mark((function e(){var t;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://yesno.wtf/api");case 2:return t=e.sent,e.abrupt("return","yes"===t.data.answer);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){localStorage.setItem("userData",JSON.stringify(e))},B=function(){var e=localStorage.getItem("userData");return e?JSON.parse(e):null}(),A={token:null===B||void 0===B?void 0:B.token,userName:null===B||void 0===B?void 0:B.userName},C=Object(l.b)({name:"authSlice",initialState:A,reducers:{authSuccess:function(e,t){var n=t.payload,r=n.userName,a=n.token;e.userName=r,e.token=a,S({token:a,userName:r})},logoutSuccess:function(e){e.userName=void 0,e.token=void 0,S({token:void 0,userName:void 0})}}}),L=C.actions,F=L.authSuccess,M=L.logoutSuccess,z=function(e){return e.auth.userName},T=function(e){return e.auth.token},D=C.reducer,I=function(e,t){return function(){var t=Object(j.a)(f.a.mark((function t(r){var a;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:a=t.sent,r(a?F({userName:e,token:"fake_valid_token"}):g({actionName:n.name,error:"Invalid email or password."}));case 4:case"end":return t.stop()}}),t)})));function n(e){return t.apply(this,arguments)}return n}()},P=k.a.create({baseURL:"https://api.punkapi.com/v2"});P.interceptors.response.use((function(e){return e.status>=400&&p(e.statusText),e}),(function(e){if(p(e.message),!k.a.isCancel(e))return Promise.reject(e)}));var R=function(){var e=Object(j.a)(f.a.mark((function e(t,n){var r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/beers?".concat(t),{cancelToken:n});case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),V=function(){var e=Object(j.a)(f.a.mark((function e(t){var n,r;return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P.get("/beers/".concat(t));case 2:return r=e.sent,e.abrupt("return",1===(null===(n=r.data)||void 0===n?void 0:n.length)?r.data[0]:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=Object(l.b)({name:"beersSlice",initialState:{beers:[],filters:{},paging:{pageSize:12,pageNumber:1,hasMore:!0}},reducers:{fetchBeersSuccess:function(e,t){var n=t.payload,r=n.beers,a=n.hasMore;e.paging.hasMore=a,e.beers=r},fetchBeerSuccess:function(e,t){var n=t.payload.beer;e.beer=n,e.beers=[]},setNameFilter:function(e,t){var n=t.payload;e.filters.name=n,e.paging.pageNumber=1},setMinAlcFilter:function(e,t){var n=t.payload;e.filters.minAlcohol=n,e.paging.pageNumber=1},setMaxAlcFilter:function(e,t){var n=t.payload;e.filters.maxAlcohol=n,e.paging.pageNumber=1},clearFilters:function(e){e.filters.name=void 0,e.filters.minAlcohol=void 0,e.filters.maxAlcohol=void 0,e.paging.pageNumber=1},setNextPage:function(e,t){var n=t.payload;e.paging.pageNumber=n}}}),Z=q.actions,J=Z.fetchBeersSuccess,X=Z.fetchBeerSuccess,H=q.actions,U=H.setNameFilter,G=H.setMinAlcFilter,Q=H.setMaxAlcFilter,W=H.setNextPage,Y=H.clearFilters,$=function(e){return e.beers},K=function(e){return e.beers},ee=function(e){return e.beers.paging},te=function(e){return e.beers.filters},ne=q.reducer,re=function(e){return function(){var t=Object(j.a)(f.a.mark((function t(n,r){var a,c,i,s,o,l,u,b,d,j,p;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=r().beers,c=a.filters,i=c.name,s=c.minAlcohol,o=c.maxAlcohol,l=a.paging,u=l.pageSize,b=l.pageNumber,d=ce(u,b,i,s,o),t.next=4,R(d,e);case 4:j=t.sent,p=j.length>=u,n(J({beers:j,hasMore:p})),0===j.length&&(f="Sorry bro, nothing to show!",m.b.warn(f));case 8:case"end":return t.stop()}var f}),t)})));return function(e,n){return t.apply(this,arguments)}}()},ae=function(e){return function(){var t=Object(j.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,V(e);case 2:r=t.sent,n(X({beer:r}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ce=function(e,t,n,r,a){return(e?"&per_page=".concat(e):"")+(t?"&page=".concat(t):"")+((n?"&beer_name=".concat(n):"")+(r?"&abv_gt=".concat(r):"")+(a?"&abv_lt=".concat(a):""))},ie=function(e){return Object(N.c)({router:Object(s.b)(e),apiRequests:x,auth:D,beers:ne})},se=Object(b.a)(),oe=ie(se);var le=Object(l.a)({reducer:oe,middleware:function(e){var t=e().prepend(y).concat(Object(u.a)(se));return t},devTools:false}),ue=function(){return{isAuthenticated:!!Object(o.e)(T),userName:Object(o.e)(z)}},be=n(7),de=n.n(be),fe=n(1),je=function(){var e=Object(o.d)(),t=ue(),n=t.isAuthenticated,a=t.userName,c=Object(r.useMemo)((function(){return n?a:""}),[n,a]);return Object(fe.jsxs)("nav",{className:de.a.nav,children:[Object(fe.jsx)("p",{className:de.a.username,children:c}),Object(fe.jsx)("ul",{children:Object(fe.jsx)("li",{children:n&&Object(fe.jsx)("span",{className:de.a.logout_btn,onClick:function(){return e(function(){var e=Object(j.a)(f.a.mark((function e(t){return f.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(M()),t(O({actionName:I.name}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})})})]})};function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}var _e=r.createElement("g",null),he=r.createElement("g",null),ve=r.createElement("g",null),ge=r.createElement("g",null),Oe=r.createElement("g",null),xe=r.createElement("g",null),ye=r.createElement("g",null),Ne=r.createElement("g",null),we=r.createElement("g",null),ke=r.createElement("g",null),Ee=r.createElement("g",null),Se=r.createElement("g",null),Be=r.createElement("g",null),Ae=r.createElement("g",null),Ce=r.createElement("g",null);function Le(e,t){var n=e.title,a=e.titleId,c=pe(e,["title","titleId"]);return r.createElement("svg",me({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 501.386 501.386",style:{enableBackground:"new 0 0 501.386 501.386"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),n?r.createElement("title",{id:a},n):null,r.createElement("path",{style:{fill:"#E2E2E2"},d:"M465.056,190.007h-98.22v227.788h98.22c12.539,0,21.943-10.449,21.943-21.943V211.949 C486.999,200.456,477.595,190.007,465.056,190.007z M453.563,384.358h-53.29V223.443h53.29V384.358z"}),r.createElement("path",{style:{fill:"#FFD15C"},d:"M399.228,114.774v364.669c0,11.494-9.404,21.943-21.943,21.943H62.771 c-11.494,0-21.943-9.404-21.943-21.943V114.774H399.228z"}),r.createElement("g",null,r.createElement("path",{style:{fill:"#F8B64C"},d:"M321.905,190.007c-13.584,0-25.078,11.494-25.078,25.078v208.98 c0,13.584,11.494,25.078,25.078,25.078c13.584,0,25.078-11.494,25.078-25.078v-208.98 C346.983,201.501,335.489,190.007,321.905,190.007z"}),r.createElement("path",{style:{fill:"#F8B64C"},d:"M220.55,190.007c-13.584,0-25.078,11.494-25.078,25.078v208.98 c0,13.584,11.494,25.078,25.078,25.078s25.078-11.494,25.078-25.078v-208.98C244.583,201.501,234.134,190.007,220.55,190.007z"}),r.createElement("path",{style:{fill:"#F8B64C"},d:"M118.15,190.007c-13.584,0-25.078,11.494-25.078,25.078v208.98 c0,13.584,11.494,25.078,25.078,25.078c13.584,0,25.078-11.494,25.078-25.078v-208.98 C143.228,201.501,131.734,190.007,118.15,190.007z"})),r.createElement("path",{style:{fill:"#F2F2F2"},d:"M401.318,136.717c0,0,79.412-50.155-14.629-107.624c0,0-51.2-22.988-96.131,6.269 c0,0-80.457-83.592-167.184,6.269c0,0-61.649-29.257-89.861,8.359c-7.314,11.494-10.449,27.167-7.314,41.796 c3.135,18.808,7.314,55.38-3.135,102.4c-10.449,49.11-9.404,87.771-7.314,106.58c1.045,11.494,14.629,41.796,47.02,33.437 c18.808-4.18,29.257-24.033,30.302-42.841c2.09-27.167,6.269-77.322,7.314-136.882c0,0,1.045-18.808,25.078-18.808L401.318,136.717z "}),_e,he,ve,ge,Oe,xe,ye,Ne,we,ke,Ee,Se,Be,Ae,Ce)}var Fe=r.forwardRef(Le),Me=(n.p,function(){return Object(fe.jsx)("header",{className:de.a.header,children:Object(fe.jsxs)("div",{className:de.a.menu,children:[Object(fe.jsx)("a",{href:"/beers",title:"Beers",children:Object(fe.jsx)(Fe,{className:de.a.logo})}),Object(fe.jsx)(je,{})]})})}),ze=n(5),Te=n(48),De=n(24),Ie=function(e){return e.apiRequests},Pe=Object(De.a)(Ie,(function(e){return e.errors})),Re=Object(De.a)(Ie,(function(e){return e.loadingStates})),Ve=function(e,t){return t},qe=Object(De.a)(Pe,Ve,(function(e,t){return e.find((function(e){return e.action===t}))})),Ze=Object(De.a)(Re,Ve,(function(e,t){return e.find((function(e){return e.action===t}))})),Je=n(25),Xe=n.n(Je),He=function(){var e=Object(o.d)(),t=Object(Te.a)(),n=t.register,r=t.handleSubmit,a=t.errors,c=function(e){var t,n=Object(o.e)((function(t){return qe(t,e)}));return{hasError:null!==(t=null===n||void 0===n?void 0:n.hasError)&&void 0!==t&&t,error:null===n||void 0===n?void 0:n.error}}(I.name),i=c.hasError,s=c.error,l=function(){var t=Object(j.a)(f.a.mark((function t(n){var r;return f.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r=n.email,n.password,e(I(r));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(fe.jsx)("div",{className:Xe.a.login_container,children:Object(fe.jsxs)("form",{onSubmit:r(l),children:[Object(fe.jsx)("h3",{children:"Login"}),Object(fe.jsx)("input",{name:"email",ref:n({validate:{isRequired:function(e){return!!e||"Email is required."}},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address."}}),placeholder:"Email"}),Object(fe.jsx)("input",{name:"password",ref:n({required:!0}),type:"password",placeholder:"Password"}),Object(fe.jsx)("div",{children:Object(fe.jsx)("input",{className:Xe.a.login_btn,type:"submit"})}),Object(fe.jsxs)("div",{className:Xe.a.login_error,children:[Object(fe.jsx)("p",{children:i&&s}),Object(fe.jsx)("p",{children:a.email&&a.email.message}),Object(fe.jsx)("p",{children:a.password&&"Password is required."})]})]})})},Ue=n(28),Ge=function(e){var t,n=Object(o.e)((function(t){return Ze(t,e)}));return null!==(t=null===n||void 0===n?void 0:n.loading)&&void 0!==t&&t},Qe=n(46),We=function(){return Object(fe.jsx)("div",{className:de.a.loading_indicator,children:Object(fe.jsx)(Qe.ThreeDots,{width:"140",height:"64",fill:"#f0a500"})})},Ye=n(18),$e=n.n(Ye),Ke=function(){var e=Object(o.d)(),t=Object(ze.f)().id,n=Ge(ae.name),a=Object(o.e)(K).beer;return Object(r.useEffect)((function(){e(ae(+t))}),[e,t]),n?Object(fe.jsx)(We,{}):a?Object(fe.jsxs)("div",{className:$e.a.beer_detail,children:[Object(fe.jsx)("img",{src:a.image_url,alt:a.name}),Object(fe.jsxs)("div",{className:$e.a.beer_detail_info,children:[Object(fe.jsxs)("h3",{children:[a.name," - ",a.abv," %"]}),Object(fe.jsx)("p",{className:$e.a.beer_detail_desc,children:a.description}),Object(fe.jsxs)("p",{className:$e.a.beer_detail_tips,children:["Brewers tips: ",a.brewers_tips]}),Object(fe.jsxs)("div",{className:$e.a.beer_detail_foods,children:[Object(fe.jsx)("h3",{children:"Food pairings"}),a.food_pairing.map((function(e,t){return Object(fe.jsx)("p",{children:e},t)}))]}),Object(fe.jsx)(Ue.a,{to:"/beers",children:"Back"})]})]}):null},et=n(32),tt=n(9),nt=n.n(tt),rt=n(47),at=n.n(rt),ct=function(e){var t=e.beer,n=e.onClick;return Object(fe.jsxs)("div",{onClick:function(){return n(t.id)},className:nt.a.card,children:[Object(fe.jsx)(at.a,{height:80,children:Object(fe.jsx)("img",{src:t.image_url,alt:t.name})}),Object(fe.jsxs)("div",{className:nt.a.beer_info,children:[Object(fe.jsx)("p",{className:nt.a.beer_title,children:t.name}),Object(fe.jsxs)("p",{className:nt.a.beer_abv+(t.abv>5?" ".concat(nt.a.high_abv):""),children:[t.abv,"%"]})]})]})},it=function(e){var t=e.beers,n=Object(r.useCallback)((function(e){se.push("beers/".concat(e))}),[]);return Object(fe.jsx)("div",{className:nt.a.beer_list,children:t.map((function(e,t){return Object(fe.jsx)(ct,{beer:e,onClick:n},t)}))})},st=function(e){var t=e.name,n=e.minAlcohol,r=e.maxAlcohol,a=e.hasMore,c=e.pageNumber,i=Object(o.d)();return Object(fe.jsxs)("div",{className:nt.a.search_form,children:[Object(fe.jsx)("button",{disabled:1===c,className:nt.a.nav_btn,onClick:function(){return i(W(c-1))},children:"Prev"}),Object(fe.jsx)("input",{name:"name",placeholder:"Find me ...",value:null!==t&&void 0!==t?t:"",onChange:function(e){return i(U(e.target.value))}}),Object(fe.jsx)("input",{name:"minAlcohol",type:"number",placeholder:"min",min:"0",max:"100",value:null!==n&&void 0!==n?n:"",onChange:function(e){return i(G(+e.target.value))}}),Object(fe.jsx)("input",{name:"maxAlcohol",type:"number",placeholder:"max",min:"0",max:"100",value:null!==r&&void 0!==r?r:"",onChange:function(e){return i(Q(+e.target.value))}}),Object(fe.jsx)("button",{className:nt.a.clear_btn,title:"Clear filters",onClick:function(){return i(Y())},children:"\u3024"}),Object(fe.jsx)("button",{disabled:!a,className:nt.a.nav_btn,onClick:function(){return i(W(c+1))},children:"Next"})]})},ot=function(){var e=Object(o.d)(),t=Ge(re.name),n=Object(o.e)(te),a=Object(o.e)(ee),c=Object(o.e)($).beers,i=n.name,s=n.minAlcohol,l=n.maxAlcohol,u=a.pageNumber;return Object(r.useEffect)((function(){var t=k.a.CancelToken.source(),n=t.cancel,r=t.token,a=setTimeout((function(){return e(re(r))}),600);return function(){n("Cancel prev. request"),clearTimeout(a)}}),[e,i,s,l,u]),t?Object(fe.jsx)(We,{}):Object(fe.jsxs)("div",{className:nt.a.beers,children:[Object(fe.jsx)(st,Object(et.a)(Object(et.a)({},n),a)),Object(fe.jsx)(it,{beers:c})]})},lt=function(){return Object(fe.jsxs)("div",{className:de.a.not_found,children:[Object(fe.jsx)("p",{children:"404"}),Object(fe.jsx)("p",{children:"No no no!"})]})},ut=function(){return ue().isAuthenticated?Object(fe.jsx)("div",{className:de.a.page_container,children:Object(fe.jsxs)(ze.c,{children:[Object(fe.jsx)(ze.a,{exact:!0,path:["/","/beers","/beergeek"],children:Object(fe.jsx)(ot,{})}),Object(fe.jsx)(ze.a,{exact:!0,path:["/beers/:id","/beergeek/beers/:id"],children:Object(fe.jsx)(Ke,{})}),Object(fe.jsx)(ze.a,{children:Object(fe.jsx)(lt,{})})]})}):Object(fe.jsx)("div",{className:de.a.page_container,children:Object(fe.jsx)(He,{})})},bt=function(){return Object(fe.jsxs)("div",{className:de.a.layout,children:[Object(fe.jsx)(Me,{}),Object(fe.jsx)(ut,{}),Object(fe.jsx)(m.a,{delay:3e3})]})},dt=function(){return Object(fe.jsx)(a.a.StrictMode,{children:Object(fe.jsx)(o.a,{store:le,children:Object(fe.jsx)(s.a,{history:se,children:Object(fe.jsx)(bt,{})})})})};i.a.render(Object(fe.jsx)(dt,{}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.0ed9c231.chunk.js.map