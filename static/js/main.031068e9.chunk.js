(this.webpackJsonpbeergeek=this.webpackJsonpbeergeek||[]).push([[0],{18:function(e,r,t){e.exports={beer_detail:"BeerDetail_beer_detail__3zwhb",beer_detail_info:"BeerDetail_beer_detail_info__2nIeM",beer_detail_desc:"BeerDetail_beer_detail_desc__2iYnX",beer_detail_tips:"BeerDetail_beer_detail_tips__2nf9g",beer_detail_foods:"BeerDetail_beer_detail_foods__31xpx"}},25:function(e,r,t){e.exports={login_container:"Login_login_container__FZG4y",login_btn:"Login_login_btn__2T1-a",login_error:"Login_login_error__3ORwV"}},49:function(e,r,t){},7:function(e,r,t){e.exports={image_height:"90",beers:"Beers_beers__AZSk8",search_form:"Beers_search_form__2AUb-",search_paging:"Beers_search_paging__rZMyH",nav_btn:"Beers_nav_btn__301F-",clear_btn:"Beers_clear_btn__3pxka",beer_list:"Beers_beer_list__1nvRX",card:"Beers_card__3Es4c",bouncedScale:"Beers_bouncedScale__21n7T",card_no_image:"Beers_card_no_image__1pc5y",card_img:"Beers_card_img__250mQ",beer_info:"Beers_beer_info__1Qv5y",beer_title:"Beers_beer_title__upZT1",beer_abv:"Beers_beer_abv__nt4rm",high_abv:"Beers_high_abv__1xkVf"}},8:function(e,r,t){e.exports={layout:"Layout_layout__1nVz4",page_container:"Layout_page_container__3kVUm",header:"Layout_header__27HXS",logo:"Layout_logo__gXj3A",menu:"Layout_menu__3z6hQ",nav:"Layout_nav__1JLRV",username:"Layout_username__1WdfT",logout_btn:"Layout_logout_btn__1f_C_",loading_indicator:"Layout_loading_indicator__10N7o",not_found:"Layout_not_found__bzyy1"}},96:function(e,r,t){"use strict";t.r(r);t(49);var n=t(0),a=t.n(n),c=t(22),i=t.n(c),s=t(19),o=t(3),u=t(15),l=t(42),d=t(10),b=(t(44),t(2)),m=t.n(b),f=t(6),j=Object(u.b)({name:"apiRequestsSlice",initialState:{errors:[],requestsStates:[]},reducers:{setLoading:function(e,r){var t=r.payload,n=t.actionName,a=t.actionState,c=e.requestsStates.find((function(e){return e.action===n}));c?c.loading=a:e.requestsStates.push({action:n,loading:a})},addError:function(e,r){var t=r.payload,n=t.actionName,a=t.error,c=e.errors.find((function(e){return e.action===n}));c?(c.error=a,c.hasError=!0):e.errors.push({action:n,error:a,hasError:!0})},removeError:function(e,r){var t=r.payload;e.errors=e.errors.filter((function(e){return e.action!==t.actionName}))},clearErrors:function(e){e.errors=[]}}}),_=j.actions,p=_.setLoading,h=_.addError,g=_.removeError,v=j.reducer,O=t(17),x=function(e){O.b.error(e)},y=function(e){var r=e.dispatch,t=e.getState;return function(e){return function(n){return"function"!==typeof n?e(n):function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(p({actionName:n.name,actionState:!0})),e.next=4,n(r,t);case 4:r(p({actionName:n.name,actionState:!1})),e.next=13;break;case 7:throw e.prev=7,e.t0=e.catch(0),r(p({actionName:n.name,actionState:!1})),r(h({actionName:n.name,error:e.t0.message})),x(e.t0.message),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}}},N=t(12),w=t(16),k=t.n(w),S=function(){var e=Object(f.a)(m.a.mark((function e(){var r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://yesno.wtf/api");case 2:return r=e.sent,e.abrupt("return","yes"===r.data.answer);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(e){localStorage.setItem("userData",JSON.stringify(e))},B=t(30),C=k.a.create({baseURL:"https://api.punkapi.com/v2"});C.interceptors.response.use((function(e){return e.status>=400&&x(e.statusText),e}),(function(e){if(!k.a.isCancel(e))return x(e.message),Promise.reject(e)}));var A=function(){var e=Object(f.a)(m.a.mark((function e(r,t,n){var a,c,i,s,o,u,l,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=r.name,i=r.minAlcohol,s=r.maxAlcohol,o=t.pageSize,u=t.pageNumber,l=M(o,u,c,i,s),e.next=5,C.get("/beers",{params:l,cancelToken:n});case 5:return d=e.sent,e.abrupt("return",{beers:null!==(a=null===d||void 0===d?void 0:d.data)&&void 0!==a?a:[]});case 7:case"end":return e.stop()}}),e)})));return function(r,t,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(m.a.mark((function e(r){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/beers/".concat(r));case 2:return n=e.sent,e.abrupt("return",1===(null===n||void 0===n||null===(t=n.data)||void 0===t?void 0:t.length)?n.data[0]:void 0);case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),M=function(e,r,t,n,a){var c=new URLSearchParams({per_page:String(e),page:String(r)});return t&&c.append("beer_name",t),n&&c.append("abv_gt",String(n)),a&&c.append("abv_lt",String(a)),c},F={beers:[],filters:{},paging:{pageSize:12,pageNumber:1,hasMore:!0},isQueryParamsChanged:!0},P=Object(u.b)({name:"beersSlice",initialState:F,reducers:{fetchBeersSuccess:function(e,r){var t=r.payload,n=t.beers,a=t.hasMore;e.isQueryParamsChanged=!1,e.paging.hasMore=a,e.beers=n},fetchBeerSuccess:function(e,r){var t=r.payload.beer;e.isQueryParamsChanged=!1,e.beer=t},setNameFilter:function(e,r){var t=r.payload;e.isQueryParamsChanged=!0,e.paging.pageNumber=1,e.filters.name=t},setMinAlcFilter:function(e,r){var t=r.payload;e.isQueryParamsChanged=!0,e.paging.pageNumber=1,e.filters.minAlcohol=t},setMaxAlcFilter:function(e,r){var t=r.payload;e.isQueryParamsChanged=!0,e.paging.pageNumber=1,e.filters.maxAlcohol=t},setNextPage:function(e,r){var t=r.payload;e.isQueryParamsChanged=!0,e.paging.pageNumber=t},resetBeer:function(e){e.beer=void 0},resetBeers:function(){return F}}}),z=P.actions,q=z.fetchBeersSuccess,Q=z.fetchBeerSuccess,T=P.actions,R=T.setNameFilter,D=T.setMinAlcFilter,I=T.setMaxAlcFilter,V=T.setNextPage,Z=T.resetBeers,J=T.resetBeer,X=T.resetBeers,H=function(e){return e.beers},U=function(e){return e.beers},G=function(e){return e.beers.isQueryParamsChanged},W=function(e){return Object(B.a)(Object(B.a)({},e.beers.filters),e.beers.paging)},Y=P.reducer,$=function(e){return function(){var r=Object(f.a)(m.a.mark((function r(t,n){var a,c,i,s,o,u;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return a=n().beers,c=a.filters,i=a.paging,r.next=3,A(c,i,e);case 3:s=r.sent,o=s.beers,u=!(o.length<i.pageSize),t(q({beers:o,hasMore:u})),!u&&0===o.length&&(l="Sorry bro, no beer for you!",O.b.warn(l));case 8:case"end":return r.stop()}var l}),r)})));return function(e,t){return r.apply(this,arguments)}}()},K=function(e){return function(){var r=Object(f.a)(m.a.mark((function r(t){var n;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,L(e);case 2:n=r.sent,t(Q({beer:n}));case 4:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}()},ee=function(){var e=localStorage.getItem("userData");return e?JSON.parse(e):null}(),re={token:null===ee||void 0===ee?void 0:ee.token,userName:null===ee||void 0===ee?void 0:ee.userName},te=Object(u.b)({name:"authSlice",initialState:re,reducers:{authSuccess:function(e,r){var t=r.payload,n=t.userName,a=t.token;e.userName=n,e.token=a,E({token:a,userName:n})},logoutSuccess:function(e){e.userName=void 0,e.token=void 0,E({token:void 0,userName:void 0})}}}),ne=te.actions,ae=ne.authSuccess,ce=ne.logoutSuccess,ie=function(e){return e.auth.userName},se=function(e){return e.auth.token},oe=te.reducer,ue=function(e,r){return function(){var r=Object(f.a)(m.a.mark((function r(n){var a;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,S();case 2:a=r.sent,n(a?ae({userName:e,token:"fake_valid_token"}):h({actionName:t.name,error:"Invalid email or password."}));case 4:case"end":return r.stop()}}),r)})));function t(e){return r.apply(this,arguments)}return t}()},le=function(e){return Object(N.c)({router:Object(s.b)(e),apiRequests:v,auth:oe,beers:Y})},de=Object(d.a)(),be=le(de);var me=Object(u.a)({reducer:be,middleware:function(e){var r=e().prepend(y).concat(Object(l.a)(de));return r},devTools:false}),fe=function(){return{isAuthenticated:!!Object(o.e)(se),userName:Object(o.e)(ie)}},je=t(8),_e=t.n(je),pe=t(1),he=function(){var e=Object(o.d)(),r=fe(),t=r.isAuthenticated,a=r.userName,c=Object(n.useMemo)((function(){return t?a:""}),[t,a]);return Object(pe.jsxs)("nav",{className:_e.a.nav,children:[Object(pe.jsx)("p",{className:_e.a.username,children:c}),Object(pe.jsx)("ul",{children:Object(pe.jsx)("li",{children:t&&Object(pe.jsx)("span",{className:_e.a.logout_btn,onClick:function(){return e(function(){var e=Object(f.a)(m.a.mark((function e(r){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(ce()),r(X()),r(g({actionName:ue.name}));case 3:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}())},children:"Logout"})})})]})};function ge(){return(ge=Object.assign||function(e){for(var r=1;r<arguments.length;r++){var t=arguments[r];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function ve(e,r){if(null==e)return{};var t,n,a=function(e,r){if(null==e)return{};var t,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||(a[t]=e[t]);return a}(e,r);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var Oe=n.createElement("g",null),xe=n.createElement("g",null),ye=n.createElement("g",null),Ne=n.createElement("g",null),we=n.createElement("g",null),ke=n.createElement("g",null),Se=n.createElement("g",null),Ee=n.createElement("g",null),Be=n.createElement("g",null),Ce=n.createElement("g",null),Ae=n.createElement("g",null),Le=n.createElement("g",null),Me=n.createElement("g",null),Fe=n.createElement("g",null),Pe=n.createElement("g",null);function ze(e,r){var t=e.title,a=e.titleId,c=ve(e,["title","titleId"]);return n.createElement("svg",ge({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 501.386 501.386",style:{enableBackground:"new 0 0 501.386 501.386"},xmlSpace:"preserve",ref:r,"aria-labelledby":a},c),t?n.createElement("title",{id:a},t):null,n.createElement("path",{style:{fill:"#E2E2E2"},d:"M465.056,190.007h-98.22v227.788h98.22c12.539,0,21.943-10.449,21.943-21.943V211.949 C486.999,200.456,477.595,190.007,465.056,190.007z M453.563,384.358h-53.29V223.443h53.29V384.358z"}),n.createElement("path",{style:{fill:"#FFD15C"},d:"M399.228,114.774v364.669c0,11.494-9.404,21.943-21.943,21.943H62.771 c-11.494,0-21.943-9.404-21.943-21.943V114.774H399.228z"}),n.createElement("g",null,n.createElement("path",{style:{fill:"#F8B64C"},d:"M321.905,190.007c-13.584,0-25.078,11.494-25.078,25.078v208.98 c0,13.584,11.494,25.078,25.078,25.078c13.584,0,25.078-11.494,25.078-25.078v-208.98 C346.983,201.501,335.489,190.007,321.905,190.007z"}),n.createElement("path",{style:{fill:"#F8B64C"},d:"M220.55,190.007c-13.584,0-25.078,11.494-25.078,25.078v208.98 c0,13.584,11.494,25.078,25.078,25.078s25.078-11.494,25.078-25.078v-208.98C244.583,201.501,234.134,190.007,220.55,190.007z"}),n.createElement("path",{style:{fill:"#F8B64C"},d:"M118.15,190.007c-13.584,0-25.078,11.494-25.078,25.078v208.98 c0,13.584,11.494,25.078,25.078,25.078c13.584,0,25.078-11.494,25.078-25.078v-208.98 C143.228,201.501,131.734,190.007,118.15,190.007z"})),n.createElement("path",{style:{fill:"#F2F2F2"},d:"M401.318,136.717c0,0,79.412-50.155-14.629-107.624c0,0-51.2-22.988-96.131,6.269 c0,0-80.457-83.592-167.184,6.269c0,0-61.649-29.257-89.861,8.359c-7.314,11.494-10.449,27.167-7.314,41.796 c3.135,18.808,7.314,55.38-3.135,102.4c-10.449,49.11-9.404,87.771-7.314,106.58c1.045,11.494,14.629,41.796,47.02,33.437 c18.808-4.18,29.257-24.033,30.302-42.841c2.09-27.167,6.269-77.322,7.314-136.882c0,0,1.045-18.808,25.078-18.808L401.318,136.717z "}),Oe,xe,ye,Ne,we,ke,Se,Ee,Be,Ce,Ae,Le,Me,Fe,Pe)}var qe=n.forwardRef(ze),Qe=(t.p,function(){return Object(pe.jsx)("header",{className:_e.a.header,children:Object(pe.jsxs)("div",{className:_e.a.menu,children:[Object(pe.jsx)("a",{href:"/beers",title:"Beers",children:Object(pe.jsx)(qe,{className:_e.a.logo})}),Object(pe.jsx)(he,{})]})})}),Te=t(5),Re=function(){return Object(pe.jsxs)("div",{className:_e.a.not_found,children:[Object(pe.jsx)("p",{children:"404"}),Object(pe.jsx)("p",{children:"No no no!"})]})},De=t(48),Ie=t(24),Ve=function(e){return e.apiRequests},Ze=Object(Ie.a)(Ve,(function(e){return e.errors})),Je=Object(Ie.a)(Ve,(function(e){return e.requestsStates})),Xe=function(e,r){return r},He=Object(Ie.a)(Ze,Xe,(function(e,r){return e.find((function(e){return e.action===r}))})),Ue=Object(Ie.a)(Je,Xe,(function(e,r){return e.find((function(e){return e.action===r}))})),Ge=function(e){var r,t=Object(o.e)((function(r){return He(r,e)}));return{hasError:null!==(r=null===t||void 0===t?void 0:t.hasError)&&void 0!==r&&r,error:null===t||void 0===t?void 0:t.error}},We=t(25),Ye=t.n(We),$e=function(){var e=Object(o.d)(),r=Object(De.a)(),t=r.register,n=r.handleSubmit,a=r.errors,c=Ge(ue.name),i=c.hasError,s=c.error,u=function(){var r=Object(f.a)(m.a.mark((function r(t){var n;return m.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:n=t.email,t.password,e(ue(n));case 2:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}();return Object(pe.jsx)("div",{className:Ye.a.login_container,children:Object(pe.jsxs)("form",{onSubmit:n(u),children:[Object(pe.jsx)("h3",{children:"Login"}),Object(pe.jsx)("input",{name:"email",ref:t({validate:{isRequired:function(e){return!!e||"Email is required."}},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address."}}),placeholder:"Email"}),Object(pe.jsx)("input",{name:"password",ref:t({required:!0}),type:"password",placeholder:"Password"}),Object(pe.jsx)("div",{children:Object(pe.jsx)("input",{className:Ye.a.login_btn,type:"submit"})}),Object(pe.jsxs)("div",{className:Ye.a.login_error,children:[Object(pe.jsx)("p",{children:i&&s}),Object(pe.jsx)("p",{children:a.email&&a.email.message}),Object(pe.jsx)("p",{children:a.password&&"Password is required."})]})]})})},Ke=t(28),er=function(e){var r,t=Object(o.e)((function(r){return Ue(r,e)}));return null!==(r=null===t||void 0===t?void 0:t.loading)&&void 0!==r&&r},rr=t(46),tr=function(){return Object(pe.jsx)("div",{className:_e.a.loading_indicator,children:Object(pe.jsx)(rr.ThreeDots,{width:"140",height:"64",fill:"#f0a500"})})},nr=t(18),ar=t.n(nr),cr=function(){var e=Object(o.d)(),r=Object(Te.f)().id,t=er(K.name),a=Object(o.e)(U).beer;return Object(n.useEffect)((function(){return e(K(+r)),function(){e(J())}}),[e,r]),t?Object(pe.jsx)(tr,{}):a?Object(pe.jsxs)("div",{className:ar.a.beer_detail,children:[Object(pe.jsxs)("div",{className:ar.a.beer_detail_info,children:[Object(pe.jsxs)("h3",{children:[a.name," - ",a.abv,"%"]}),Object(pe.jsx)("p",{className:ar.a.beer_detail_desc,children:a.description}),Object(pe.jsxs)("p",{className:ar.a.beer_detail_tips,children:["Brewers tips: ",a.brewers_tips]}),Object(pe.jsxs)("div",{className:ar.a.beer_detail_foods,children:[Object(pe.jsx)("h3",{children:"Food pairings"}),a.food_pairing.map((function(e,r){return Object(pe.jsx)("p",{children:e},r)}))]}),Object(pe.jsx)(Ke.a,{to:"/beers",children:"Back"})]}),a.image_url&&Object(pe.jsx)("img",{src:a.image_url,alt:a.name})]}):null},ir=t(47),sr=t.n(ir),or=t(7),ur=t.n(or),lr=function(e){var r=e.beer,t=e.onClick;return Object(pe.jsxs)("div",{onClick:function(){return t(r.id)},className:ur.a.card,children:[Object(pe.jsx)(sr.a,{height:ur.a.image_height,children:Object(pe.jsxs)("div",{className:ur.a.card_img,children:[!r.image_url&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("p",{children:"No image"}),Object(pe.jsx)("p",{className:ur.a.card_no_image,children:"\ud83c\udf7a"})]}),r.image_url&&Object(pe.jsx)("img",{src:r.image_url,alt:r.name})]})}),Object(pe.jsxs)("div",{className:ur.a.beer_info,children:[Object(pe.jsx)("p",{className:ur.a.beer_title,children:r.name}),Object(pe.jsxs)("p",{className:ur.a.beer_abv+(r.abv>5?" ".concat(ur.a.high_abv):""),children:[r.abv,"%"]})]})]})},dr=function(){var e=Object(o.d)(),r=Ge($.name).hasError,t=er($.name),a=Object(o.e)(G),c=Object(o.e)(W),i=c.name,s=c.minAlcohol,u=c.maxAlcohol,l=c.pageNumber,d=Object(o.e)(H).beers;Object(n.useEffect)((function(){if(a&&!r){var t=k.a.CancelToken.source(),n=t.cancel,c=t.token,i=setTimeout((function(){return e($(c))}),600);return function(){n(),clearTimeout(i)}}}),[e,a,r,i,s,u,l]);var b=Object(n.useCallback)((function(e){de.push("beers/".concat(e))}),[]);return t?Object(pe.jsx)(tr,{}):Object(pe.jsx)("div",{className:ur.a.beer_list,children:d.map((function(e,r){return Object(pe.jsx)(lr,{beer:e,onClick:b},r)}))})},br=function(){var e=Object(o.d)(),r=Object(o.e)(W),t=r.name,n=r.minAlcohol,a=r.maxAlcohol,c=r.hasMore,i=r.pageNumber;return Object(pe.jsxs)("div",{className:ur.a.search_form,children:[Object(pe.jsx)("button",{disabled:1===i,className:ur.a.nav_btn,onClick:function(){return e(V(i-1))},children:"Prev"}),Object(pe.jsx)("input",{name:"name",placeholder:"Find me ...",value:null!==t&&void 0!==t?t:"",onChange:function(r){return e(R(r.target.value))}}),Object(pe.jsx)("input",{name:"minAlcohol",type:"number",placeholder:"min alc",min:"0",max:"100",value:null!==n&&void 0!==n?n:"",onChange:function(r){return e(D(+r.target.value))}}),Object(pe.jsx)("input",{name:"maxAlcohol",type:"number",placeholder:"max alc",min:"0",max:"100",value:null!==a&&void 0!==a?a:"",onChange:function(r){return e(I(+r.target.value))}}),Object(pe.jsx)("button",{className:ur.a.clear_btn,title:"Clear filters",onClick:function(){return e(Z())},children:"\u3024"}),Object(pe.jsx)("button",{disabled:!c,className:ur.a.nav_btn,onClick:function(){return e(V(i+1))},children:"Next"}),Object(pe.jsxs)("div",{className:ur.a.search_paging,children:["Page: ",i]})]})},mr=function(){return Object(pe.jsxs)("div",{className:ur.a.beers,children:[Object(pe.jsx)(br,{}),Object(pe.jsx)(dr,{})]})},fr=function(){return fe().isAuthenticated?Object(pe.jsx)("div",{className:_e.a.page_container,children:Object(pe.jsxs)(Te.c,{children:[Object(pe.jsx)(Te.a,{exact:!0,path:["/","/beers","/beergeek"],children:Object(pe.jsx)(mr,{})}),Object(pe.jsx)(Te.a,{exact:!0,path:["/beers/:id","/beergeek/beers/:id"],children:Object(pe.jsx)(cr,{})}),Object(pe.jsx)(Te.a,{children:Object(pe.jsx)(Re,{})})]})}):Object(pe.jsx)("div",{className:_e.a.page_container,children:Object(pe.jsx)($e,{})})},jr=function(){return Object(pe.jsxs)("div",{className:_e.a.layout,children:[Object(pe.jsx)(Qe,{}),Object(pe.jsx)(fr,{}),Object(pe.jsx)(O.a,{delay:3e3})]})},_r=function(){return Object(pe.jsx)(a.a.StrictMode,{children:Object(pe.jsx)(o.a,{store:me,children:Object(pe.jsx)(s.a,{history:de,children:Object(pe.jsx)(jr,{})})})})};i.a.render(Object(pe.jsx)(_r,{}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.031068e9.chunk.js.map