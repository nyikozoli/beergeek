(this.webpackJsonpbeergeek=this.webpackJsonpbeergeek||[]).push([[0],{18:function(e,t,r){e.exports={beer_detail:"BeerDetail_beer_detail__3zwhb",beer_detail_info:"BeerDetail_beer_detail_info__2nIeM",beer_detail_desc:"BeerDetail_beer_detail_desc__2iYnX",beer_detail_tips:"BeerDetail_beer_detail_tips__2nf9g",beer_detail_foods:"BeerDetail_beer_detail_foods__31xpx"}},25:function(e,t,r){e.exports={login_container:"Login_login_container__FZG4y",login_btn:"Login_login_btn__2T1-a",login_error:"Login_login_error__3ORwV"}},49:function(e,t,r){},7:function(e,t,r){e.exports={image_height:"90",beers:"Beers_beers__AZSk8",search_form:"Beers_search_form__2AUb-",search_paging:"Beers_search_paging__rZMyH",nav_btn:"Beers_nav_btn__301F-",clear_btn:"Beers_clear_btn__3pxka",beer_list:"Beers_beer_list__1nvRX",card:"Beers_card__3Es4c",bouncedScale:"Beers_bouncedScale__21n7T",card_no_image:"Beers_card_no_image__1pc5y",card_img:"Beers_card_img__250mQ",beer_info:"Beers_beer_info__1Qv5y",beer_title:"Beers_beer_title__upZT1",beer_abv:"Beers_beer_abv__nt4rm",high_abv:"Beers_high_abv__1xkVf"}},8:function(e,t,r){e.exports={layout:"Layout_layout__1nVz4",page_container:"Layout_page_container__3kVUm",header:"Layout_header__27HXS",logo:"Layout_logo__gXj3A",menu:"Layout_menu__3z6hQ",nav:"Layout_nav__1JLRV",username:"Layout_username__1WdfT",logout_btn:"Layout_logout_btn__1f_C_",loading_indicator:"Layout_loading_indicator__10N7o",not_found:"Layout_not_found__bzyy1"}},96:function(e,t,r){"use strict";r.r(t);r(49);var n=r(0),a=r.n(n),c=r(22),i=r.n(c),s=r(19),o=r(3),u=r(15),l=r(42),d=r(10),b=(r(44),r(2)),m=r.n(b),f=r(6),j=Object(u.b)({name:"apiRequestsSlice",initialState:{errors:[],requestsStates:[]},reducers:{setLoading:function(e,t){var r=t.payload,n=r.actionName,a=r.actionState,c=e.requestsStates.find((function(e){return e.action===n}));c?c.loading=a:e.requestsStates.push({action:n,loading:a})},addError:function(e,t){var r=t.payload,n=r.actionName,a=r.error,c=e.errors.find((function(e){return e.action===n}));c?(c.error=a,c.hasError=!0):e.errors.push({action:n,error:a,hasError:!0})},removeError:function(e,t){var r=t.payload;e.errors=e.errors.filter((function(e){return e.action!==r.actionName}))},clearErrors:function(e){e.errors=[]}}}),_=j.actions,p=_.setLoading,h=_.addError,g=_.removeError,v=j.reducer,O=r(17),x=function(e){O.b.error(e)},y=function(e){var t=e.dispatch,r=e.getState;return function(e){return function(n){return"function"!==typeof n?e(n):function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t(p({actionName:n.name,actionState:!0})),e.next=4,n(t,r);case 4:t(p({actionName:n.name,actionState:!1})),e.next=13;break;case 7:throw e.prev=7,e.t0=e.catch(0),t(p({actionName:n.name,actionState:!1})),t(h({actionName:n.name,error:e.t0.message})),x(e.t0.message),e.t0;case 13:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}()()}}},N=r(12),w=r(16),k=r.n(w),E=function(){var e=Object(f.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.a.get("https://yesno.wtf/api");case 2:return t=e.sent,e.abrupt("return","yes"===t.data.answer);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(e){localStorage.setItem("userData",JSON.stringify(e))},B=r(30),C=k.a.create({baseURL:"https://api.punkapi.com/v2"});C.interceptors.response.use((function(e){return e.status>=400&&x(e.statusText),e}),(function(e){if(k.a.isCancel(e))throw e;return x(e.message),Promise.reject(e)}));var A=function(){var e=Object(f.a)(m.a.mark((function e(t,r,n){var a,c,i,s,o,u,l,d;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=t.name,i=t.minAlcohol,s=t.maxAlcohol,o=r.pageSize,u=r.pageNumber,l=M(o,u,c,i,s),e.next=5,C.get("/beers",{params:l,cancelToken:n});case 5:return d=e.sent,e.abrupt("return",{beers:null!==(a=null===d||void 0===d?void 0:d.data)&&void 0!==a?a:[]});case 7:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}(),L=function(){var e=Object(f.a)(m.a.mark((function e(t){var r,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get("/beers/".concat(t));case 2:return n=e.sent,e.abrupt("return",1===(null===n||void 0===n||null===(r=n.data)||void 0===r?void 0:r.length)?n.data[0]:void 0);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),M=function(e,t,r,n,a){var c=new URLSearchParams({per_page:String(e),page:String(t)});return r&&c.append("beer_name",r),n&&c.append("abv_gt",String(n)),a&&c.append("abv_lt",String(a)),c},F={beers:[],filters:{},paging:{pageSize:12,pageNumber:1,hasMore:!0},isQueryParamsChanged:!0},P=Object(u.b)({name:"beersSlice",initialState:F,reducers:{fetchBeersSuccess:function(e,t){var r=t.payload,n=r.beers,a=r.hasMore;e.isQueryParamsChanged=!1,e.paging.hasMore=a,e.beers=n},fetchBeerSuccess:function(e,t){var r=t.payload.beer;e.isQueryParamsChanged=!1,e.beer=r},setNameFilter:function(e,t){var r=t.payload;e.isQueryParamsChanged=!0,e.paging.pageNumber=1,e.filters.name=r},setMinAlcFilter:function(e,t){var r=t.payload;e.isQueryParamsChanged=!0,e.paging.pageNumber=1,e.filters.minAlcohol=r},setMaxAlcFilter:function(e,t){var r=t.payload;e.isQueryParamsChanged=!0,e.paging.pageNumber=1,e.filters.maxAlcohol=r},setNextPage:function(e,t){var r=t.payload;e.isQueryParamsChanged=!0,e.paging.pageNumber=r},resetBeer:function(e){e.beer=void 0},resetBeers:function(){return F}}}),z=P.actions,q=z.fetchBeersSuccess,Q=z.fetchBeerSuccess,T=P.actions,R=T.setNameFilter,D=T.setMinAlcFilter,I=T.setMaxAlcFilter,V=T.setNextPage,Z=T.resetBeers,J=T.resetBeer,X=T.resetBeers,H=function(e){return e.beers},U=function(e){return e.beers},G=function(e){return e.beers.isQueryParamsChanged},W=function(e){return Object(B.a)(Object(B.a)({},e.beers.filters),e.beers.paging)},Y=P.reducer,$=function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r,n){var a,c,i,s,o,u;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=n().beers,c=a.filters,i=a.paging,t.next=3,A(c,i,e);case 3:s=t.sent,o=s.beers,u=!(o.length<i.pageSize),r(q({beers:o,hasMore:u}));case 7:case"end":return t.stop()}}),t)})));return function(e,r){return t.apply(this,arguments)}}()},K=function(e){return function(){var t=Object(f.a)(m.a.mark((function t(r){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L(e);case 2:n=t.sent,r(Q({beer:n}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},ee=function(){var e=localStorage.getItem("userData");return e?JSON.parse(e):null}(),te={token:null===ee||void 0===ee?void 0:ee.token,userName:null===ee||void 0===ee?void 0:ee.userName},re=Object(u.b)({name:"authSlice",initialState:te,reducers:{authSuccess:function(e,t){var r=t.payload,n=r.userName,a=r.token;e.userName=n,e.token=a,S({token:a,userName:n})},logoutSuccess:function(e){e.userName=void 0,e.token=void 0,S({token:void 0,userName:void 0})}}}),ne=re.actions,ae=ne.authSuccess,ce=ne.logoutSuccess,ie=function(e){return e.auth.userName},se=function(e){return e.auth.token},oe=re.reducer,ue=function(e,t){return function(){var t=Object(f.a)(m.a.mark((function t(n){var a;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,E();case 2:a=t.sent,n(a?ae({userName:e,token:"fake_valid_token"}):h({actionName:r.name,error:"Invalid email or password."}));case 4:case"end":return t.stop()}}),t)})));function r(e){return t.apply(this,arguments)}return r}()},le=function(e){return Object(N.c)({router:Object(s.b)(e),apiRequests:v,auth:oe,beers:Y})},de=Object(d.a)(),be=le(de);var me=Object(u.a)({reducer:be,middleware:function(e){var t=e().prepend(y).concat(Object(l.a)(de));return t},devTools:false}),fe=function(){return{isAuthenticated:!!Object(o.e)(se),userName:Object(o.e)(ie)}},je=r(8),_e=r.n(je),pe=r(1),he=function(){var e=Object(o.d)(),t=fe(),r=t.isAuthenticated,a=t.userName,c=Object(n.useMemo)((function(){return r?a:""}),[r,a]);return Object(pe.jsxs)("nav",{className:_e.a.nav,children:[Object(pe.jsx)("p",{className:_e.a.username,children:c}),Object(pe.jsx)("ul",{children:Object(pe.jsx)("li",{children:r&&Object(pe.jsx)("span",{className:_e.a.logout_btn,onClick:function(){return e(function(){var e=Object(f.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(ce()),t(X()),t(g({actionName:ue.name}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"Logout"})})})]})};function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function ve(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r,n,a={},c=Object.keys(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)r=c[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Oe=n.createElement("g",null),xe=n.createElement("g",null),ye=n.createElement("g",null),Ne=n.createElement("g",null),we=n.createElement("g",null),ke=n.createElement("g",null),Ee=n.createElement("g",null),Se=n.createElement("g",null),Be=n.createElement("g",null),Ce=n.createElement("g",null),Ae=n.createElement("g",null),Le=n.createElement("g",null),Me=n.createElement("g",null),Fe=n.createElement("g",null),Pe=n.createElement("g",null);function ze(e,t){var r=e.title,a=e.titleId,c=ve(e,["title","titleId"]);return n.createElement("svg",ge({id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 501.386 501.386",style:{enableBackground:"new 0 0 501.386 501.386"},xmlSpace:"preserve",ref:t,"aria-labelledby":a},c),r?n.createElement("title",{id:a},r):null,n.createElement("path",{style:{fill:"#E2E2E2"},d:"M465.056,190.007h-98.22v227.788h98.22c12.539,0,21.943-10.449,21.943-21.943V211.949 C486.999,200.456,477.595,190.007,465.056,190.007z M453.563,384.358h-53.29V223.443h53.29V384.358z"}),n.createElement("path",{style:{fill:"#FFD15C"},d:"M399.228,114.774v364.669c0,11.494-9.404,21.943-21.943,21.943H62.771 c-11.494,0-21.943-9.404-21.943-21.943V114.774H399.228z"}),n.createElement("g",null,n.createElement("path",{style:{fill:"#F8B64C"},d:"M321.905,190.007c-13.584,0-25.078,11.494-25.078,25.078v208.98 c0,13.584,11.494,25.078,25.078,25.078c13.584,0,25.078-11.494,25.078-25.078v-208.98 C346.983,201.501,335.489,190.007,321.905,190.007z"}),n.createElement("path",{style:{fill:"#F8B64C"},d:"M220.55,190.007c-13.584,0-25.078,11.494-25.078,25.078v208.98 c0,13.584,11.494,25.078,25.078,25.078s25.078-11.494,25.078-25.078v-208.98C244.583,201.501,234.134,190.007,220.55,190.007z"}),n.createElement("path",{style:{fill:"#F8B64C"},d:"M118.15,190.007c-13.584,0-25.078,11.494-25.078,25.078v208.98 c0,13.584,11.494,25.078,25.078,25.078c13.584,0,25.078-11.494,25.078-25.078v-208.98 C143.228,201.501,131.734,190.007,118.15,190.007z"})),n.createElement("path",{style:{fill:"#F2F2F2"},d:"M401.318,136.717c0,0,79.412-50.155-14.629-107.624c0,0-51.2-22.988-96.131,6.269 c0,0-80.457-83.592-167.184,6.269c0,0-61.649-29.257-89.861,8.359c-7.314,11.494-10.449,27.167-7.314,41.796 c3.135,18.808,7.314,55.38-3.135,102.4c-10.449,49.11-9.404,87.771-7.314,106.58c1.045,11.494,14.629,41.796,47.02,33.437 c18.808-4.18,29.257-24.033,30.302-42.841c2.09-27.167,6.269-77.322,7.314-136.882c0,0,1.045-18.808,25.078-18.808L401.318,136.717z "}),Oe,xe,ye,Ne,we,ke,Ee,Se,Be,Ce,Ae,Le,Me,Fe,Pe)}var qe=n.forwardRef(ze),Qe=(r.p,function(){return Object(pe.jsx)("header",{className:_e.a.header,children:Object(pe.jsxs)("div",{className:_e.a.menu,children:[Object(pe.jsx)("a",{href:"/beers",title:"Beers",children:Object(pe.jsx)(qe,{className:_e.a.logo})}),Object(pe.jsx)(he,{})]})})}),Te=r(5),Re=function(){return Object(pe.jsxs)("div",{className:_e.a.not_found,children:[Object(pe.jsx)("p",{children:"404"}),Object(pe.jsx)("p",{children:"No no no!"})]})},De=r(48),Ie=r(24),Ve=function(e){return e.apiRequests},Ze=Object(Ie.a)(Ve,(function(e){return e.errors})),Je=Object(Ie.a)(Ve,(function(e){return e.requestsStates})),Xe=function(e,t){return t},He=Object(Ie.a)(Ze,Xe,(function(e,t){return e.find((function(e){return e.action===t}))})),Ue=Object(Ie.a)(Je,Xe,(function(e,t){return e.find((function(e){return e.action===t}))})),Ge=function(e){var t,r=Object(o.e)((function(t){return He(t,e)}));return{hasError:null!==(t=null===r||void 0===r?void 0:r.hasError)&&void 0!==t&&t,error:null===r||void 0===r?void 0:r.error}},We=r(25),Ye=r.n(We),$e=function(){var e=Object(o.d)(),t=Object(De.a)(),r=t.register,n=t.handleSubmit,a=t.errors,c=Ge(ue.name),i=c.hasError,s=c.error,u=function(){var t=Object(f.a)(m.a.mark((function t(r){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=r.email,r.password,e(ue(n));case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return Object(pe.jsx)("div",{className:Ye.a.login_container,children:Object(pe.jsxs)("form",{onSubmit:n(u),children:[Object(pe.jsx)("h3",{children:"Login"}),Object(pe.jsx)("input",{name:"email",ref:r({validate:{isRequired:function(e){return!!e||"Email is required."}},pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,}$/i,message:"Invalid email address."}}),placeholder:"Email"}),Object(pe.jsx)("input",{name:"password",ref:r({required:!0}),type:"password",placeholder:"Password"}),Object(pe.jsx)("div",{children:Object(pe.jsx)("input",{className:Ye.a.login_btn,type:"submit"})}),Object(pe.jsxs)("div",{className:Ye.a.login_error,children:[Object(pe.jsx)("p",{children:i&&s}),Object(pe.jsx)("p",{children:a.email&&a.email.message}),Object(pe.jsx)("p",{children:a.password&&"Password is required."})]})]})})},Ke=r(28),et=function(e){var t,r=Object(o.e)((function(t){return Ue(t,e)}));return null!==(t=null===r||void 0===r?void 0:r.loading)&&void 0!==t&&t},tt=r(46),rt=function(){return Object(pe.jsx)("div",{className:_e.a.loading_indicator,children:Object(pe.jsx)(tt.ThreeDots,{width:"140",height:"64",fill:"#f0a500"})})},nt=r(18),at=r.n(nt),ct=function(){var e=Object(o.d)(),t=Object(Te.f)().id,r=et(K.name),a=Object(o.e)(U).beer;return Object(n.useEffect)((function(){return e(K(+t)),function(){e(J())}}),[e,t]),r?Object(pe.jsx)(rt,{}):a?Object(pe.jsxs)("div",{className:at.a.beer_detail,children:[Object(pe.jsxs)("div",{className:at.a.beer_detail_info,children:[Object(pe.jsxs)("h3",{children:[a.name," - ",a.abv,"%"]}),Object(pe.jsx)("p",{className:at.a.beer_detail_desc,children:a.description}),Object(pe.jsxs)("p",{className:at.a.beer_detail_tips,children:["Brewers tips: ",a.brewers_tips]}),Object(pe.jsxs)("div",{className:at.a.beer_detail_foods,children:[Object(pe.jsx)("h3",{children:"Food pairings"}),a.food_pairing.map((function(e,t){return Object(pe.jsx)("p",{children:e},t)}))]}),Object(pe.jsx)(Ke.a,{to:"/beers",children:"Back"})]}),a.image_url&&Object(pe.jsx)("img",{src:a.image_url,alt:a.name})]}):null},it=r(47),st=r.n(it),ot=r(7),ut=r.n(ot),lt=function(e){var t=e.beer,r=e.onClick;return Object(pe.jsxs)("div",{onClick:function(){return r(t.id)},className:ut.a.card,children:[Object(pe.jsx)(st.a,{height:ut.a.image_height,children:Object(pe.jsxs)("div",{className:ut.a.card_img,children:[!t.image_url&&Object(pe.jsxs)(pe.Fragment,{children:[Object(pe.jsx)("p",{children:"No image"}),Object(pe.jsx)("p",{className:ut.a.card_no_image,children:"\ud83c\udf7a"})]}),t.image_url&&Object(pe.jsx)("img",{src:t.image_url,alt:t.name})]})}),Object(pe.jsxs)("div",{className:ut.a.beer_info,children:[Object(pe.jsx)("p",{className:ut.a.beer_title,children:t.name}),Object(pe.jsxs)("p",{className:ut.a.beer_abv+(t.abv>5?" ".concat(ut.a.high_abv):""),children:[t.abv,"%"]})]})]})},dt=function(){var e=Object(o.d)(),t=Ge($.name).hasError,r=et($.name),a=Object(o.e)(G),c=Object(o.e)(W),i=c.name,s=c.minAlcohol,u=c.maxAlcohol,l=c.pageNumber,d=c.hasMore,b=Object(o.e)(H).beers;Object(n.useEffect)((function(){if(a&&!t){var r=k.a.CancelToken.source(),n=r.cancel,c=r.token,i=setTimeout((function(){return e($(c))}),600);return function(){n(),clearTimeout(i)}}}),[e,a,t,i,s,u,l]),Object(n.useEffect)((function(){var e;O.b.hideAll(),!d&&(e="Sorry bro, no beer for you!",O.b.warn(e))}),[d,a]);var m=Object(n.useCallback)((function(e){de.push("beers/".concat(e))}),[]);return r?Object(pe.jsx)(rt,{}):Object(pe.jsx)("div",{className:ut.a.beer_list,children:b.map((function(e,t){return Object(pe.jsx)(lt,{beer:e,onClick:m},t)}))})},bt=function(){var e=Object(o.d)(),t=Object(o.e)(W),r=t.name,n=t.minAlcohol,a=t.maxAlcohol,c=t.hasMore,i=t.pageNumber;return Object(pe.jsxs)("div",{className:ut.a.search_form,children:[Object(pe.jsx)("button",{disabled:1===i,className:ut.a.nav_btn,onClick:function(){return e(V(i-1))},children:"Prev"}),Object(pe.jsx)("input",{name:"name",placeholder:"Find me ...",value:null!==r&&void 0!==r?r:"",onChange:function(t){return e(R(t.target.value))}}),Object(pe.jsx)("input",{name:"minAlcohol",type:"number",placeholder:"min alc",min:"0",max:"100",value:null!==n&&void 0!==n?n:"",onChange:function(t){return e(D(+t.target.value))}}),Object(pe.jsx)("input",{name:"maxAlcohol",type:"number",placeholder:"max alc",min:"0",max:"100",value:null!==a&&void 0!==a?a:"",onChange:function(t){return e(I(+t.target.value))}}),Object(pe.jsx)("button",{className:ut.a.clear_btn,title:"Clear filters",onClick:function(){return e(Z())},children:"\u3024"}),Object(pe.jsx)("button",{disabled:!c,className:ut.a.nav_btn,onClick:function(){return e(V(i+1))},children:"Next"}),Object(pe.jsxs)("div",{className:ut.a.search_paging,children:["Page: ",i]})]})},mt=function(){return Object(pe.jsxs)("div",{className:ut.a.beers,children:[Object(pe.jsx)(bt,{}),Object(pe.jsx)(dt,{})]})},ft=function(){return fe().isAuthenticated?Object(pe.jsx)("div",{className:_e.a.page_container,children:Object(pe.jsxs)(Te.c,{children:[Object(pe.jsx)(Te.a,{exact:!0,path:["/","/beers","/beergeek"],children:Object(pe.jsx)(mt,{})}),Object(pe.jsx)(Te.a,{exact:!0,path:["/beers/:id","/beergeek/beers/:id"],children:Object(pe.jsx)(ct,{})}),Object(pe.jsx)(Te.a,{children:Object(pe.jsx)(Re,{})})]})}):Object(pe.jsx)("div",{className:_e.a.page_container,children:Object(pe.jsx)($e,{})})},jt=function(){return Object(pe.jsxs)("div",{className:_e.a.layout,children:[Object(pe.jsx)(Qe,{}),Object(pe.jsx)(ft,{}),Object(pe.jsx)(O.a,{delay:3e3})]})},_t=function(){return Object(pe.jsx)(a.a.StrictMode,{children:Object(pe.jsx)(o.a,{store:me,children:Object(pe.jsx)(s.a,{history:de,children:Object(pe.jsx)(jt,{})})})})};i.a.render(Object(pe.jsx)(_t,{}),document.getElementById("root"))}},[[96,1,2]]]);
//# sourceMappingURL=main.46ac24e6.chunk.js.map